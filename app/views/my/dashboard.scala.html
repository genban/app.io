@()(implicit req: UserRequest[_], messages: Messages)

@layoutsOpt = @{req.maybeUser.flatMap(_.preferences.get[List[String]]("layouts"))}
@baseAdmin  = @{views.html.layouts.base_admin.getClass.getCanonicalName}

@layoutsOpt match {
  case Some(layouts) => {
    @if(layouts.contains(baseAdmin)) {
      @dashboard_admin()
    } else {
      @dashboard_user()
    }
  }
  case None => {
    @dashboard_user()
  }
}