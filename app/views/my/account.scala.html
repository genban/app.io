@(fm: Form[_])(implicit req: UserRequest[_], messages: Messages)

@import common._
@import helper._

@layouts.base(MSG("settings.account")){

<div class="row">
  @common._flashing()
</div>

<div class="row">
  @fm.globalErrors.map { gerr =>
    @common._alert("danger"){
      @MSG(gerr.message)
    }
  }
</div>

<div class="row" style="padding:0px 6px">
  <div class="col-xs-12 col-sm-3">
    @{_personal_settings("account")}
  </div>

  <div class="col-xs-12 col-sm-9">
    <div class="row">
      <div class="col-xs-12">
        <div class="panel panel-default">
          <div class="panel-heading">
            <strong>@MSG("change.password")</strong>
          </div>

          <div class="panel-body">
            @form(action = routes.MyCtrl.changePassword()) {
              <div class="row">
                <div class="col-xs-12 col-sm-9">
                  @{_input_password(fm("old_password"),
                    'tabindex    -> 1
                    )(_fc_form_group)
                  }
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12 col-sm-9">
                @{_input_password(fm("new_password.original"),
                  'tabindex    -> 2
                  )(_fc_form_group)
                }
                </div>
              </div>

              <div class="row">
                <div class="col-xs-12 col-sm-9">
                @{_input_password(fm("new_password.confirmation"),
                  'tabindex    -> 3
                  )(_fc_form_group)
                }
                </div>
              </div>

              <button type="submit" class="btn btn-default" tabindex="4">
                <strong>@MSG("password.update")</strong>
              </button>
              <a href="@routes.PasswordResetCtrl.nnew(req.user.email)">@MSG("password.forgot")</a>
            }
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

}()()