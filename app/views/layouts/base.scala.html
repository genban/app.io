@(title: String, above_content: Html = Html(""))(
  content: Html)(
  css: Html *)(
  js: Html *)(
  implicit req: MaybeUserRequest[_], messages: Messages, env: Environment)

@layoutsOpt = @{req.maybeUser.toOption.flatMap(_.attributes[List[String]]("layouts"))}
@baseAdmin  = @{base_admin.getClass.getCanonicalName}

@layoutsOpt match {
  case Some(layouts) => {
    @if(layouts.contains(baseAdmin)) {
      @base_admin(title, above_content)(content)(css:_*)(js:_*)
    } else {
      @base_normal(title, above_content)(content)(css:_*)(js:_*)
    }
  }
  case None => {
    @base_normal(title, above_content)(content)(css:_*)(js:_*)
  }
}